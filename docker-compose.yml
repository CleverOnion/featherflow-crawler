version: "3.9"

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        # 若需要 Playwright 浏览器兜底，这里已开启
        INSTALL_PLAYWRIGHT_DEPS: "true"
    container_name: featherflow-app
    restart: always
    env_file:
      - .env
    # 如需在 compose 中直接写入/覆盖数据库等配置，可在此处追加或修改
    # environment:
    #   MYSQL_HOST: your-mysql-host
    #   MYSQL_PORT: 3306
    #   MYSQL_USER: your-user
    #   MYSQL_PASSWORD: your-password
    #   MYSQL_DATABASE: your-db
    #   KEYWORDS: "鹅,玉米,豆粕"
    #   CRON: "30 8 * * *"
    # APScheduler 是常驻服务，无需额外端口暴露
    # 如未来增加 HTTP 接口，可在此处映射端口
    # ports:
    #   - "8000:8000"

